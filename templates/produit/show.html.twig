{% extends 'layouts/base.html.twig' %}

{% block title %}Produit{% endblock %}

{% block body %}
    <h1>Produit</h1>


    <div class="produit_image mb-3">
        <img style="max-width: 400px;" src="{{ vich_uploader_asset(produit, 'imageFile') }}">
    </div>
    

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ produit.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ produit.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ produit.description }}</td>
            </tr>
            <tr>
                <th>Prix</th>
                <td>{{ produit.prix }}</td>
            </tr>
                <tr>
                    <th>StockQuantite</th>
                    <td>{{ produit.stockQuantite }}</td>
                </tr>
        </tbody>
    </table>

        {{ form_start(form) }}
            {% if produit.stockQuantite > 10 %}
                {{ form_row(form.quantity, {'attr': {'min': 0, 'max': 10} }) }}
            {% else %}
                {{ form_row(form.quantity, {'attr': {'min': 0, 'max': produit.stockQuantite} }) }}
            {% endif %}
             <button class="btn btn-primary">{{ button_label|default('Ajouter au panier') }}</button> 
        {{ form_end(form) }}


    <a href="{{ path('app_produit_index') }}">back to list</a>

    <a href="{{ path('app_produit_edit', {'id': produit.id}) }}">edit</a>

    <a href="{{ path('app_produit_not_availible', {'id': produit.id}) }}" class="btn">Supprimer</a> 

   {# {{ include('produit/_delete_form.html.twig') }} #}

{% endblock %}
